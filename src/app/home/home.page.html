<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-title>
      <img
        src="assets/icon/favicon.png"
        alt="Logo"
        style="height: 30px; vertical-align: middle; margin-right: 10px"
      />
      <b>Pejuang News</b>
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="doLogout()" fill="clear" color="medium">
        <ion-icon slot="icon-only" name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div class="welcome-section">
    <h1>Selamat Datang, {{ namaUser }}!</h1>
    <p>Berikut adalah berita terbaru hari ini.</p>
  </div>

  <div class="kategori-section">
    <div class="section-header">
      <h2>Kategori</h2>
      <ion-text color="primary" routerLink="/kategori" class="lihat-semua-text">
        Lihat Semua
      </ion-text>
    </div>

    <div class="kategori-scroll">
      <ion-chip
        *ngFor="let kat of semuaKategori"
        (click)="lihatKategori(kat.id)"
        [color]="kategoriAktif === kat.id ? 'primary' : ''"
      >
        <ion-label>{{ kat.nama }}</ion-label>
      </ion-chip>
    </div>
  </div>

  <div class="berita-section">
    <h2>Berita Terbaru</h2>

    <ion-card
      *ngFor="let berita of beritaTerbaruDenganRating"
      routerLink="/detailBerita/{{berita.id}}/home"
      class="berita-card compact-card"
    >
      <ion-item lines="none" detail="false">
        <ion-thumbnail slot="start">
          <img [src]="berita.foto_utama" class="berita-image-thumb" />
        </ion-thumbnail>

        <ion-label>
          <ion-chip color="primary" class="kategori-chip-kecil" outline="true">
            <ion-label>{{ getNamaKategori(berita) }}</ion-label>
          </ion-chip>
          <ion-chip color="warning" class="rating-chip-kecil">
            <ion-icon name="star" style="font-size: 14px"></ion-icon>
            <ion-label style="font-size: 0.75rem"
              >{{ getAverageRating(berita.id) | number:'1.1-1' }}</ion-label
            >
          </ion-chip>
          <p class="berita-judul-kompak">{{ berita.judul }}</p>
        </ion-label>

        <ion-icon slot="end" name="chevron-forward-outline"></ion-icon>
      </ion-item>
    </ion-card>
  </div>
</ion-content>
